<p-toast [showTransformOptions]="'translateX(100%)'"></p-toast>
<div class="container">
  <div style="display: flex; justify-content: space-around; max-height: 50rem; flex-flow: wrap; gap: 10px">
    <p-orderList
      [value]="cars"
      [listStyle]="{ 'max-height': '30rem'}"
      [controlsPosition]="'none'"
      header="Cars"
      filterBy="model"
      filterPlaceholder="Filter by name">
      <ng-template let-car pTemplate="item">
        <div style="display: flex; justify-content: space-between">
            <div class="image-text">
              <img src="../../../assets/car.jpg" [alt]="car.name" [width]="60" class="image" />
              <div class="flex-1">
                <h5 class="mb-2">{{ car.model }}</h5>
                <span class="vertical-align-middle line-height-1">{{ car.category.name }}</span>
              </div>
            </div>
          <div>
            <div class="flex flex-column align-items-end">
              <h6 class="mb-2">{{car.price+'â‚¬'}}</h6>
            </div>
            <button pButton icon="pi pi-shopping-cart" class="md:align-self-end mb-2 p-button-rounded" (click)="selectItem(car)"></button>
          </div>
        </div>
      </ng-template>
    </p-orderList>

    <form #orderForm="ngForm">
      <div class="p-grid">
        <div class="p-col-12">
          <p-dropdown [options]="customers" optionLabel="firstName"  [ngModelOptions]="{standalone: true}" [(ngModel)]="selectedCustomer" placeholder="Select a Customer">
            <ng-template let-customer pTemplate="item">
              {{ customer.firstName }} {{ customer.lastName }}
            </ng-template>
          </p-dropdown>
        </div>
        <div class="p-col-12">
          <table class="p-datatable">
            <thead>
            <tr>
              <th>Product</th>
              <th>Quantity</th>
              <th></th>
            </tr>
            </thead>
            <tbody>
            <tr *ngFor="let item of orderItems; let i = index">
              <td>
                {{item.car?.model}}
              </td>
              <td>
                <input pInputText type="number" [(ngModel)]="orderItems[i].quantity" name="quantity"/>
                {{item.quantity}}
              </td>
              <td>
                <button pButton type="button" icon="pi pi-trash" (click)="removeOrderItem(i)"></button>
              </td>
            </tr>
            </tbody>
          </table>
        </div>
      </div>
      <button pButton type="button" label="Submit" (click)="submit()"></button>

    </form>
  </div>
</div>
